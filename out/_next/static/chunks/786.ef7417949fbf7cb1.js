"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{786:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var r=a(5893),l=a(7294),s=a(8995),i=a(4467),n=a(9334),d=a(9649),o=a(5675),c=a.n(o),x=a(3695),m=a(4247),u=a(4652),v=a(5491),p=a(6105),f=a(5019),h=a(8936),g=a(1270);let j=l.forwardRef((e,t)=>{let{review:a,maxLength:s=70,mobileMaxLength:i=50,handleModal:n,className:d="text-gray-600",id:o,...c}=e,[x,m]=(0,l.useState)(!1),u=x?i:s,v=(null==a?void 0:a.length)>u,p=v?null==a?void 0:a.slice(0,null==a?void 0:a.lastIndexOf(" ",u)):a;return(0,l.useEffect)(()=>{let e=window.matchMedia("(max-width: 768px)");m(e.matches);let t=e=>m(e.matches);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,r.jsx)("div",{ref:t,className:"overflow-y-auto ".concat(d),...c,children:(0,r.jsxs)("div",{className:"!text-xs !font-thin !leading-5 text-[var(--text-variant1)] md:!leading-5",children:[p,v&&(0,r.jsxs)("span",{className:"cursor-pointer",onClick:()=>n(o),children:["...more"," "]})]})})});j.displayName="EliteReviewDescription";let w=e=>{let t=["bg-blue-100 text-blue-600 border border-blue-300","bg-red-100 text-red-600 border border-red-300","bg-green-100 text-green-600 border border-green-300","bg-yellow-100 text-yellow-600 border border-yellow-300","bg-purple-100 text-purple-600 border border-purple-300","bg-pink-100 text-pink-600 border border-pink-300","bg-indigo-100 text-indigo-600 border border-indigo-300"];return t[e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%t.length]},b=e=>{let{review:t}=e,[a,s]=(0,l.useState)(!1);return(0,r.jsx)("div",{className:"my-6 flex !w-full flex-col rounded-lg !bg-[var(--surface-variant4)] p-4 text-center text-[var(--text-variant2)] md:px-6 md:py-10",children:(0,r.jsxs)("div",{className:"flex h-full w-full flex-col justify-between !gap-4",children:[(0,r.jsxs)("div",{className:"relative flex aspect-square h-6 w-full items-center gap-2",children:[(null==t?void 0:t.platformLogo)&&(0,r.jsx)(c(),{src:null==t?void 0:t.platformLogo,alt:null==t?void 0:t.platformLogo,loader:m.default,className:"object-contain",width:18,height:18,sizes:"(min-width: 768px) 400px, 600px"}),(0,r.jsx)("div",{className:"flex justify-center gap-0.5",children:(0,h.gI)(null==t?void 0:t.rating,"text-[var(--text-variant1)]","text-[var(--stroke-variant4)]",4)}),(0,r.jsxs)("div",{className:"flex !w-max justify-center gap-0.5 text-xs leading-3",children:[null==t?void 0:t.rating," Rating"]})]}),(0,r.jsx)("div",{className:"scrollbar-thin h-[150px] w-full overflow-y-auto",children:(0,r.jsx)(x.Z,{className:"text-left !text-sm",children:null==t?void 0:t.reviewText})}),(0,r.jsxs)("div",{className:"mt-auto flex items-center justify-start gap-2",children:[(0,r.jsx)("div",{className:"image_wrapper rounded-full border",children:(null==t?void 0:t.reviewerImage)&&!a?(0,r.jsx)(c(),{alt:"".concat((null==t?void 0:t.reviewerName)||"User","'s profile picture"),src:null==t?void 0:t.reviewerImage,onError:()=>s(!0),width:40,height:40,className:"rounded-full object-cover",placeholder:"blur",blurDataURL:null==t?void 0:t.reviewerImage}):(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full ".concat((null==t?void 0:t.reviewerName)?w(null==t?void 0:t.reviewerName):"border border-gray-300 bg-gray-200 text-gray-600"),children:(0,r.jsx)(x.Z,{className:"text-base font-medium",children:(null==t?void 0:t.reviewerName)?null==t?void 0:t.reviewerName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):""})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{className:"text-left !text-xs !font-bold !leading-5 text-[var(--text-variant2)]",children:null==t?void 0:t.reviewerName}),(0,r.jsx)(x.Z,{className:"!text-xs !leading-5 text-[var(--text-variant2)]",children:new Date(null==t?void 0:t.reviewDate).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})]})]})})},N={skipSnaps:!1,align:"start",slidesToScroll:1,loop:!1},y=e=>{let{open:t,handleModal:a,reviewId:s,reviewsData:i}=e,n=(0,l.useRef)(null),[d,o]=(0,l.useState)(0),[c,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!c&&(null==i?void 0:i.length)>0&&s){let e=i.findIndex(e=>e.id===s);-1!==e&&o(e)}},[s,i,c]);let m=(0,l.useCallback)(e=>{t&&n.current&&!n.current.contains(e.target)&&a(!1)},[t,n,a]),u=(0,l.useCallback)(e=>{e.target===e.currentTarget&&a(!1)},[a]);(0,l.useEffect)(()=>{let e=()=>{document.body.style.removeProperty("overflow")};return t&&(document.body.style.overflow="hidden",document.addEventListener("mousedown",m)),()=>{e(),document.removeEventListener("mousedown",m)}},[t,m]);let h=e=>{let{onPrev:t,onNext:a,canScrollPrev:l,canScrollNext:s,itemsCount:i}=e;return(0,r.jsx)("div",{className:"mt-4 flex justify-center gap-2",children:i>4&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{x(!0),t()},disabled:!l,className:"rounded-full border-2 border-[var(--surface-variant4)] bg-[var(--surface-variant1)] p-2 ".concat(l?"":"cursor-not-allowed opacity-50"),children:(0,r.jsx)(p.Z,{className:"h-6 w-6 text-[var(--surface-variant4)]"})}),(0,r.jsx)("button",{onClick:()=>{x(!0),a()},disabled:!s,className:"rounded-full border-2 border-[var(--surface-variant4)] bg-[var(--surface-variant1)] p-2 ".concat(s?"":"cursor-not-allowed opacity-50"),children:(0,r.jsx)(f.Z,{className:"h-6 w-6 text-[var(--surface-variant4)]"})})]})})};return(0,r.jsx)("div",{ref:n,onClick:u,className:"bg-[rgba(255, 255, 255, 0)] fixed inset-0 z-[999] flex items-center justify-center backdrop-blur-[1.8px]",children:(0,r.jsxs)("div",{className:"fixed left-1/2 top-1/2 !z-50 flex w-[90%] -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-lg !bg-[var(--surface-variant1)] px-8 py-6 backdrop-blur-sm md:min-h-[444px] md:w-full md:max-w-[600px] md:px-8 md:py-10",children:[(0,r.jsx)("div",{className:"absolute top-0 flex w-full items-end justify-end",children:(0,r.jsx)("span",{className:"p-4",style:{cursor:"pointer"},onClick:()=>{a(null)},children:(0,r.jsx)(g.s5_,{className:"h-8 w-8 text-gray-500"})})}),(0,r.jsx)(v.lr,{options:{...N,startIndex:d},className:"w-full",childrenClassName:"!px-0",CarouselNavigation:e=>{let{onPrev:t,onNext:a,canScrollPrev:l,canScrollNext:s}=e;return(0,r.jsx)(h,{onPrev:t,onNext:a,canScrollPrev:l,canScrollNext:s,itemsCount:(null==i?void 0:i.length)||0})},children:(0,r.jsx)(v.a_,{className:"w-full gap-2",children:i.map(e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v.qs,{className:"flex-[0_0_calc(100%)]",children:(0,r.jsx)("div",{className:"relative mx-2 w-full",children:(0,r.jsx)(b,{review:e})})},e.id)}))})})]})})};var k=e=>{let{handleToggle:t,testimonial:a,maxLength:s=180,mobileMaxLength:i=100,starColor:n="",emptyStarColor:d="",platformLogo:o="https://d15e7bk5l2jbs8.cloudfront.net/booking_platforms_logo/gbp.png?v=20",dateFormat:v={weekday:"short",year:"numeric",month:"short",day:"numeric"},cardClassName:p="",hasAnimation:f=!1}=e,[g,b]=(0,l.useState)(!1),{reviewer:N,date:y,id:k}=a||{},{review:C,image:L,rating:_,name:S}=N||{},{elementRef:D,isIntersecting:E}=(0,u.Z)({threshold:.3,maxRuns:1,enabled:f});return(0,r.jsx)("blockquote",{ref:D,className:"".concat(f?"section-reveal-up":""," flex h-full w-full items-center gap-4 md:gap-5 ").concat(E?"reveal-up":""," ").concat(p),children:(0,r.jsxs)("div",{className:"flex h-fit w-full flex-col justify-center !gap-3",children:[(0,r.jsxs)("div",{className:"relative flex aspect-square h-6 w-full items-center gap-2",children:[o&&(0,r.jsx)(c(),{src:o,alt:o,loader:m.default,className:"object-contain",width:18,height:18,sizes:"(min-width: 768px) 400px, 600px"}),(0,r.jsx)("div",{className:"flex justify-center gap-0.5",children:(0,h.gI)(_,n,d)}),(0,r.jsxs)("div",{className:"flex !w-max justify-center gap-0.5 text-xs leading-3",children:[_," Rating"]})]}),(0,r.jsx)(j,{maxLength:s,mobileMaxLength:i,review:C,id:k,handleModal:t}),(0,r.jsxs)("div",{className:"mt-auto flex items-center justify-start gap-3",children:[(0,r.jsx)("div",{className:"image_wrapper rounded-full border",children:L&&!g?(0,r.jsx)(c(),{alt:"".concat(S,"'s profile picture"),src:L,onError:()=>b(!0),width:40,height:40,className:"rounded-full object-cover",placeholder:"blur",blurDataURL:L}):(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full ".concat(S?w(S):"border border-gray-300 bg-gray-200 text-gray-600"),children:(0,r.jsx)(x.Z,{className:"text-base font-medium",children:S?S.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):""})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{className:"!text-xs !font-bold !leading-5 text-[var(--text-variant2)]",children:S}),(0,r.jsx)(x.Z,{className:"!text-xs !leading-5 text-[var(--text-variant2)]",children:new Date(y).toLocaleDateString("en-US",v)})]})]})]})})},C=a(5712),L=a(7082);let _={skipSnaps:!1,align:"start",loop:!0};var S=e=>{var t,a;let{websiteData:o,sectionData:c}=e,x=(0,r.jsx)("span",{className:"flex items-center justify-center gap-1 font-semibold",children:(0,n.DC)(null==o?void 0:null===(t=o.templateProps)||void 0===t?void 0:t.reviews)}),[m,u]=(0,l.useState)(null),[p,f]=(0,l.useState)(!1),h=null==o?void 0:null===(a=o.templateProps)||void 0===a?void 0:a.reviews,g=(0,l.useCallback)(e=>{u(e||{}),f(!!e)},[]);if(!(null==h?void 0:h.length))return null;let j=h.map(e=>({id:e.id,reviewerName:e.reviewer.name,reviewerImage:e.reviewer.image,rating:e.reviewer.rating,reviewText:e.reviewer.review,reviewDate:e.date,platformLogo:e.platformLogo})),w=(e,t)=>({testimonial:{reviewer:{name:e.reviewerName,image:e.reviewerImage,rating:e.rating,review:e.reviewText},date:e.reviewDate,id:e.id},handleToggle:g,platformLogo:e.platformLogo,cardClassName:"p-4 md:p-6 max-h-[150px] md:max-h-[130px] md:!max-h-[160px] h-full !bg-[var(--surface-variant4)] rounded-xl text-[var(--text-variant1)]",starColor:"text-[var(--text-variant1)]",emptyStarColor:"text-[var(--surface-variant1)]",hasAnimation:!1,maxLength:70,mobileMaxLength:60,forceCollapse:t}),b=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.jsx)(d.Z,{CardComponent:k,data:e,mapDataToProps:e=>w(e,t),wrapperClassName:"h-full"})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{id:null==c?void 0:c.key,className:"bg-[var(--surface-variant1)]",gridClassName:"justify-items-center relative",sectionType:c.type,children:[(0,r.jsx)(C.Z,{text:L.EV,textClass:"text-[var(--text-variant2)] uppercase text-[240px] leading-[208px]",containerClass:"justify-items-center max-w-[1264px] mx-auto h-screen max-h-[400px] md:max-h-[530px]",children:(0,r.jsx)("div",{className:"my-section-y-mobile max-w-[1264px] sm:my-section-y-tablet md:!w-[75vw] lg:my-section-y-desktop",children:(0,r.jsx)(s.M$,{hasAnimation:!0,className:"!mb-0 flex flex-col items-center md:items-end",children:(0,r.jsxs)(s.hO,{className:"flex items-center justify-center break-words text-mobile-header-large font-thin uppercase leading-header-medium text-[var(--text-variant4)]",children:[x||L.V0," rating"]})})})}),(0,r.jsx)("div",{className:"absolute left-0 top-[30%] w-full md:top-[40%]",children:(0,r.jsx)(v.lr,{options:_,hasAnimation:!0,autoScroll:!0,hideNavigation:!0,children:(0,r.jsx)(v.a_,{className:"w-full pr-4 md:px-0 ".concat((null==j?void 0:j.length)<=4?"justify-center":""),children:j.map((e,t)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v.qs,{className:"flex-[0_0_calc(100%)] sm:flex-[0_0_calc(45%)] lg:flex-[0_0_calc(30%)]",children:(0,r.jsx)("div",{className:"relative mx-6 w-full",children:b(e)})},t)}))})})})]}),p&&(null==j?void 0:j.length)>0&&(0,r.jsx)(y,{reviewsData:j,reviewId:m,open:p,handleModal:g})]})}}}]);