"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8072],{8072:function(e,s,l){l.r(s);var t=l(5893),a=l(7294),i=l(341),n=l(8995),d=l(4467),o=l(272),c=l(6565),r=l(4652);let m=e=>{let s=(s,l)=>Math.min(e,(Math.floor(e/s)+(e%s===s?1:0))*s,l);return{base:s(2,8),md:s(3,12),lg:s(4,16)}},u=(e,s,l)=>({mobile:e===l.base-1&&s>l.base,tablet:e===l.md-1&&s>l.md,desktop:e===l.lg-1&&s>l.lg});s.default=e=>{var s,l;let{websiteData:h,sectionData:b}=e,[p,x]=(0,a.useState)(!1),[g,v]=(0,a.useState)(0),j=(0,a.useMemo)(()=>{var e;return(null==h?void 0:null===(e=h.templateProps)||void 0===e?void 0:e.gallery)||[]},[h]),f=(0,a.useMemo)(()=>"string"==typeof j?JSON.parse(j):j,[j]),y=f.length,k=(0,a.useMemo)(()=>m(y),[y]),N=(0,a.useCallback)(e=>{v(e),x(!0)},[]),{elementRef:C,isIntersecting:w}=(0,r.Z)((0,a.useMemo)(()=>({threshold:.2,maxRuns:1,enabled:y>0}),[y])),M=w?"reveal-up":"",Z=(0,a.useMemo)(()=>f.slice(0,Math.max(k.base,k.md,k.lg)).map((e,s)=>e?{id:e.id,src:e.src,type:e.type,index:s,isLastItem:u(s,y,k),visibilityClass:{base:s<k.base?"block":"hidden",md:s<k.md?"md:block":"md:hidden",lg:s<k.lg?"lg:block":"lg:hidden"}}:null).filter(Boolean),[f,k,y]);return 0===y?null:(0,t.jsxs)(d.Z,{id:null==b?void 0:b.key,className:"bg-[var(--surface-variant2)]",sectionType:b.type,children:[(0,t.jsxs)("div",{className:"my-section-y-mobile sm:my-section-y-tablet lg:my-section-y-desktop",children:[(0,t.jsxs)(n.M$,{hasAnimation:!0,children:[(0,t.jsx)(n.hO,{children:null==b?void 0:null===(s=b.props)||void 0===s?void 0:s.title}),(0,t.jsx)(n.Ot,{children:null==b?void 0:null===(l=b.props)||void 0===l?void 0:l.description})]}),(0,t.jsx)(i.Z,{cols:"grid-cols-2",smCols:"sm:grid-cols-2",mdCols:"md:grid-cols-3",lgCols:"lg:grid-cols-4",gap:"gap-4",containerClassName:"pb-8",className:"!px-0",children:Z.map(e=>{let{src:s,id:l,type:a,index:i,isLastItem:n,visibilityClass:d}=e;return(0,t.jsx)("div",{className:"relative col-span-1 aspect-square cursor-pointer ".concat(d.base," ").concat(d.md," ").concat(d.lg),onClick:()=>N(i),children:(0,t.jsxs)("div",{className:"group relative aspect-square overflow-hidden",children:[(0,t.jsx)(o.Z,{src:s,alt:"Gallery item ".concat(l),fill:!0,autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"rounded-lg object-cover transition-transform duration-300 group-hover:scale-110",sizes:"(max-width:600px) 45vw, 20vw",placeholder:"blur",blurDataURL:s,loading:"lazy",hasAnimation:!0,type:a}),(n.mobile||n.tablet||n.desktop)&&(0,t.jsxs)("div",{ref:C,className:"section-reveal-up absolute inset-0 ".concat(M),children:[n.mobile&&(0,t.jsx)("div",{className:"absolute inset-0 block md:hidden",children:(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/40",children:(0,t.jsxs)("span",{className:"text-3xl font-medium text-white",children:["+",y-k.base]})})}),n.tablet&&(0,t.jsx)("div",{className:"absolute inset-0 hidden items-center justify-center rounded-lg bg-black/40 md:flex lg:hidden",children:(0,t.jsxs)("span",{className:"text-3xl font-medium text-white",children:["+",y-k.md]})}),n.desktop&&(0,t.jsx)("div",{className:"absolute inset-0 hidden items-center justify-center rounded-lg bg-black/40 lg:flex",children:(0,t.jsxs)("span",{className:"text-3xl font-medium text-white",children:["+",y-k.lg]})})]})]})},l||i)})})]}),p&&(0,t.jsx)(c.Z,{media:j,initialIndex:g,onClose:()=>x(!1)})]})}}}]);