"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{985:function(l,e,i){i.r(e);var s=i(5893),a=i(7294),o=i(341),r=i(8995),n=i(4467),t=i(272),d=i(6565),c=i(4652),u=i(6360),v=i(9334),m=i(29),p=i(7103),h=i(8837),x=i(1664),g=i.n(x);let f=a.memo(l=>{var e,i,x,f,y,b;let{websiteData:j,sectionData:C}=l,[k,N]=(0,a.useState)(!1),[w,E]=(0,a.useState)(0),_=(0,u.Z)(),{trackEvent:M}=(0,p.X)(),A=null==C?void 0:null===(e=C.props)||void 0===e?void 0:e.title,I=null==C?void 0:null===(i=C.props)||void 0===i?void 0:i.description,L=null==C?void 0:null===(x=C.props)||void 0===x?void 0:x.colors,R=(null==C?void 0:null===(f=C.props)||void 0===f?void 0:f.layout)||"grid",Z=(null==C?void 0:null===(y=C.props)||void 0===y?void 0:y.slice)||"true",G="grid"===R,D=(0,a.useMemo)(()=>{var l;return(null==j?void 0:null===(l=j.templateProps)||void 0===l?void 0:l.gallery)||[]},[null==j?void 0:null===(b=j.templateProps)||void 0===b?void 0:b.gallery]),O=(0,a.useMemo)(()=>"true"==Z?D.slice(0,v.Ni):D,[D,Z]),Y=O.length,z=(0,a.useMemo)(()=>(0,v.H8)(Y,null!=_?_:u.Y.desktop),[Y,_]),P=(0,a.useMemo)(()=>"true"==Z?O.slice(0,z):O,[O,z,Z]),{elementRef:V,isIntersecting:H}=(0,c.Z)({threshold:.2,maxRuns:1,enabled:!!_}),S=(0,a.useCallback)(l=>{E(l),N(!0)},[]),U=(0,a.useCallback)((l,e)=>{var i,s;"hover"===e?M(m.w.GALLERY_HOVER_MEDIA,{imageId:null===(i=P[l])||void 0===i?void 0:i.id}):M(m.w.GALLERY_CLICK_MEDIA,{imageId:null===(s=P[l])||void 0===s?void 0:s.id})},[P,M]),q=(0,a.useCallback)(l=>{var e;M(m.w.GALLERY_VIEWMORE_MEDIA,{imageId:null===(e=P[l])||void 0===e?void 0:e.id})},[P,M]);if(0===Y)return null;let B=H?"reveal-up":"",K=(l,e,i)=>(0,s.jsx)("div",{className:"".concat(G?"relative aspect-square":"relative"," ").concat("cssColumns"===R?"mb-4 break-inside-avoid":"cursor-pointer"),onClick:()=>S(e),children:(0,s.jsxs)("div",{className:"group relative overflow-hidden rounded-lg ".concat("grid"===R?"h-full w-full":""),onMouseEnter:()=>U(e,"hover"),onClick:()=>U(e,"click"),children:[(0,s.jsx)(t.Z,{src:null==l?void 0:l.src,alt:"Gallery item ".concat((null==l?void 0:l.id)||e+1),fill:"grid"===R,videoClassName:"object-cover w-full h-full",autoPlay:!0,loop:!0,muted:!0,controls:!1,className:"".concat("grid"===R?"h-full w-full object-cover":"h-auto w-full object-cover"," transition-transform duration-300 group-hover:scale-110"),sizes:"(max-width: 768px) 45vw, (max-width: 1024px) 30vw, 22vw",placeholder:"blur",blurDataURL:null==l?void 0:l.src,loading:"lazy",hasAnimation:!0,type:null==l?void 0:l.type}),i&&(0,s.jsx)("div",{ref:i?V:null,className:"".concat(!H&&i?"section-reveal-up":""," absolute inset-0 ").concat(B),onClick:()=>q(e),children:(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/40",children:(0,s.jsxs)("span",{className:"text-3xl font-medium text-white",children:["+",Y-z]})})})]})},(null==l?void 0:l.id)||e),T=(null==L?void 0:L.galleryBackgroundColor)||"var(--surface-variant6)";return(0,s.jsx)("div",{style:{"--gallery-background-color":T},children:(0,s.jsxs)(n.Z,{id:null==C?void 0:C.key,className:"bg-[var(--gallery-background-color)]",sectionType:C.type,children:[(0,s.jsxs)("div",{className:"my-section-y-mobile pt-[70px] sm:my-section-y-tablet lg:my-section-y-desktop",children:[(0,s.jsxs)(r.M$,{hasAnimation:!0,children:[(0,s.jsx)(r.hO,{children:A}),(0,s.jsx)(r.Ot,{children:I})]}),"cssColumns"===R?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,s.jsx)("div",{className:"mx-auto columns-2 gap-4 px-4 pb-8 [column-fill:_balance] sm:columns-3 md:columns-4",children:P.map((l,e)=>l?K(l,e,!1):null)})}):(0,s.jsx)(o.Z,{cols:"grid-cols-2",smCols:"sm:grid-cols-2",mdCols:"md:grid-cols-3",lgCols:"lg:grid-cols-4",gap:"gap-4",containerClassName:"pb-8",className:"!px-0",children:P.map((l,e)=>{if(!l)return null;let i=e===z-1&&Y>z&&"true"==Z;return K(l,e,i)})}),"true"==Z&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(h.default,{variant:"outline",size:"large",className:"border-[var(--surface-variant2)] text-center text-[var(--text-variant1)]",dataZoca:"gallery-view-all",children:(0,s.jsx)(g(),{href:"/gallery",children:"View All"})})})]}),k&&"cssColumns"!=R&&(0,s.jsx)(d.Z,{media:O,initialIndex:w,onClose:()=>N(!1)})]})})});f.displayName="UnifiedGallery",e.default=f}}]);